---
layout: page
permalink: /cal/
title: cal
comment: actual calendar is autogenerated, see `_data/cal.json`
---

<style>
.event {
  margin: 1em 0 0 0;
  padding: 0 0 0 1em;
}

.event:nth-child(odd) {
  background-color: #EEEEEE;
}
</style>

**This schedule may change as we calibrate the first few weeks of the course.**

<div id="cal">
</div>

<script>
var cal_data = {{ site.data.cal | jsonify }};

var cal_div = d3.select('#cal');

cal_div.selectAll('.event')
  .data(cal_data)
  .enter().append('div')
  .attr('class', 'event')
  .html( render_event )


function render_event(d, i, A) {
  var s = '';
  s += '<div class="date">' + date_rejigger(d.date) + '</div>'
  s += '<div class="topic">Topic: ' + d.topic + '</div>'
  if(d.assigned)
    d.assigned.forEach( function(a) {
      s += '<div class="assigned">Assigned: ' + assigned_str(a) + '</div>'
    })
  if(d.due)
    s += '<div class="due">Due: ' + d.due + '</div>'
  if(d.materials)
    s += '<div class="materials">' + materials_link(d.materials) + '</div>'
  if(d.vid)
    s += '<div class="vid">' + vid_link(d.vid) + '</div>'
  return s;
}

function materials_link(d) {
  var s = '';
  s += '<a href="/' + d + '">materials</a>'
  return s;
}

function vid_link(d) {
  var s = '';
  s += '<a href="' + d + '">vid</a>'
  return s;
}

function assigned_str(d) {
var s = '';
if(d.link != "")
  s += '<a href="' + d.link + '">' + d.text + '</a>'
else
  s += d.text
return s;
}

function date_rejigger(d) {
  var s = moment(d, "DD-MMM-YYYY")
  return s.format('DD-MMM ddd');
}

</script>
